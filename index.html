<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">

<meta property="og:title" content="灯光方案对比展示">
<meta property="og:description" content="多状态灯光方案交互对比视图">
<meta property="og:image" content="layer5.png">

<title>Lighting Layer Viewer</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:#2b2f33;
  overflow:hidden;
  font-family:system-ui;
}

#viewer{
  position:relative;
  width:100%;
  height:100%;
}

.layer{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  transition:clip-path .7s cubic-bezier(.4,0,.2,1);
  cursor:pointer;
}

/* 分割线 */
.layer::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(
    110deg,
    transparent 48%,
    rgba(255,180,80,.8) 50%,
    transparent 52%
  );
  pointer-events:none;
  opacity:0;
  transition:.5s;
}

.split .layer::after{opacity:1;}

#ui{
  position:fixed;
  top:20px;
  right:20px;
  z-index:10;
}

button{
  padding:10px 16px;
  background:#1f2326;
  color:#fff;
  border:1px solid #555;
  border-radius:6px;
  cursor:pointer;
}

.label{
  position:absolute;
  left:24px;
  color:#fff;
  font-style:italic;
  opacity:.9;
  text-shadow:0 3px 8px #000;
  transform:rotate(-70deg);
  transform-origin:left center;
  transition:.5s;
  pointer-events:none;
}

.hidden{opacity:0}

#title{
  position:fixed;
  top:20px;
  left:20px;
  color:#fff;
  font-size:18px;
  opacity:0;
  transition:.4s;
}
</style>
</head>

<body>

<div id="ui">
  <button id="toggle">Layer View</button>
</div>

<div id="title"></div>

<div id="viewer">

  <div class="layer" data-name="灯光点位" style="background-image:url(layer1.png)"></div>
  <div class="layer" data-name="白模" style="background-image:url(layer2.png)"></div>
  <div class="layer" data-name="白模灯光" style="background-image:url(layer3.png)"></div>
  <div class="layer" data-name="暖色" style="background-image:url(layer4.png)"></div>
  <div class="layer" data-name="冷色" style="background-image:url(layer5.png)"></div>

  <div class="label" style="top:22%">灯光点位</div>
  <div class="label" style="top:34%">白模</div>
  <div class="label" style="top:46%">白模灯光</div>
  <div class="label" style="top:58%">渲染</div>
  <div class="label" style="top:70%">雨夜</div>

</div>

<script>
const viewer = document.getElementById("viewer");
const layers = document.querySelectorAll(".layer");
const labels = document.querySelectorAll(".label");
const toggle = document.getElementById("toggle");
const title = document.getElementById("title");

let split = false;
let focus = null;

/* 工业级斜切带 */
const cuts = [
 "polygon(0 0,100% 0,85% 100%,0 100%)",
 "polygon(15% 0,100% 0,85% 100%,0 100%)",
 "polygon(30% 0,100% 0,70% 100%,0 100%)",
 "polygon(45% 0,100% 0,55% 100%,0 100%)",
 "polygon(60% 0,100% 0,40% 100%,0 100%)"
];

function showMain(){
  layers.forEach((l,i)=>{
    l.style.clipPath = i===4 ? "none" : "polygon(0 0,0 0,0 0,0 0)";
  });
  labels.forEach(l=>l.classList.add("hidden"));
  viewer.classList.remove("split");
  title.style.opacity = 0;
  split = false;
  focus = null;
}

function showSplit(){
  layers.forEach((l,i)=>{
    l.style.clipPath = cuts[i];
  });
  labels.forEach(l=>l.classList.remove("hidden"));
  viewer.classList.add("split");
  title.style.opacity = 0;
  split = true;
}

toggle.onclick = ()=> split ? showMain() : showSplit();

layers.forEach((layer,i)=>{
  layer.onclick = ()=>{
    if(!split) return;

    if(focus === i){
      showSplit();
      focus = null;
      return;
    }

    layers.forEach((l,idx)=>{
      if(idx === i){
        l.style.clipPath = "none";
      }else if(idx < i){
        l.style.clipPath = "polygon(0 0,0 0,0 100%,0 100%)";
      }else{
        l.style.clipPath = "polygon(100% 0,100% 0,100% 100%,100% 100%)";
      }
    });

    labels.forEach(l=>l.classList.add("hidden"));
    title.textContent = layer.dataset.name;
    title.style.opacity = 1;
    focus = i;
  };
});

showMain();
</script>

</body>
</html>
